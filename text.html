<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Learn with Text</title>
  <style>
    /* Reset and base styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, sans-serif;
  line-height: 1.6;
  color: #fff;
  background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
  min-height: 100vh;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1.5rem;
}



/* Main content styles */
main {
  padding: 3rem 0;
}

.hero {
  text-align: center;
  margin-bottom: 4rem;
}

.hero h1 {
  font-size: 3rem;
  font-weight: bold;
  margin-bottom: 1rem;
  color: #60a5fa;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  display: inline-block;
  overflow: hidden;
  border-right: 3px solid #60a5fa;
  white-space: nowrap;
  animation: typing 3.5s steps(30, end),
             blink-caret 0.75s step-end infinite;
  margin: 0 auto 1rem;
  max-width: fit-content;
}

@keyframes typing {
  from { width: 0 }
  to { width: 100% }
}

@keyframes blink-caret {
  from, to { border-color: transparent }
  50% { border-color: #60a5fa }
}

.hero p {
  font-size: 1.25rem;
  color: #94a3b8;
}

/* Chat container styles */
.chat-container {
  max-width: 1000px;
  margin: 0 auto;
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 1rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: height 0.3s ease-in-out;
}

.messages {
  height: 500px;
  min-height: 500px;
  max-height: 800px;
  overflow-y: auto;
  padding: 1.5rem;
  scrollbar-width: thin;
  scrollbar-color: rgba(96, 165, 250, 0.5) transparent;
  transition: height 0.3s ease-in-out;
}

.messages.expanded {
  height: 800px;
}

.messages::-webkit-scrollbar {
  width: 6px;
}

.messages::-webkit-scrollbar-track {
  background: transparent;
}

.messages::-webkit-scrollbar-thumb {
  background-color: rgba(96, 165, 250, 0.5);
  border-radius: 3px;
}

.empty-state {
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #94a3b8;
}

.empty-state svg {
  margin-bottom: 1rem;
  color: #60a5fa;
}

.message {
  max-width: 80%;
  margin-bottom: 1rem;
  padding: 1rem;
  border-radius: 0.5rem;
  animation: messageAppear 0.3s ease-out;
}

@keyframes messageAppear {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message.user {
  margin-left: auto;
  background: #2563eb;
  box-shadow: 0 2px 4px rgba(37, 99, 235, 0.1);
}

.message.ai {
  margin-right: auto;
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Input area styles */
.input-area {
  display: flex;
  gap: 0.5rem;
  padding: 1rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(30, 41, 59, 0.8);
  border-radius: 0 0 1rem 1rem;
}

input {
  flex: 1;
  padding: 0.75rem 1rem;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 0.5rem;
  color: #fff;
  font-size: 1rem;
  transition: all 0.2s;
}

input:focus {
  outline: none;
  border-color: #60a5fa;
  background: rgba(255, 255, 255, 0.15);
  box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.2);
}

input::placeholder {
  color: #94a3b8;
}

.icon-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: #2563eb;
  border: none;
  border-radius: 0.5rem;
  color: #fff;
  cursor: pointer;
  transition: all 0.2s;
}

.icon-button:hover {
  background: #1d4ed8;
  transform: translateY(-1px);
}

.icon-button:active {
  transform: translateY(0);
}

#mic-button {
  background: rgba(255, 255, 255, 0.1);
}

#mic-button:hover {
  background: rgba(255, 255, 255, 0.2);
}

#mic-button.recording {
  background: #ef4444;
  animation: pulse 1.5s infinite;
}

/* Features section styles */
.features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-top: 4rem;
}

.feature-card {
  background: rgba(30, 41, 59, 0.5);
  padding: 1.5rem;
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
  transition: transform 0.2s, box-shadow 0.2s;
}

.feature-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.feature-card svg {
  color: #60a5fa;
  margin-bottom: 1rem;
}

.feature-card h3 {
  font-size: 1.25rem;
  margin-bottom: 0.5rem;
}

.feature-card p {
  color: #94a3b8;
}

/* Animations */
@keyframes pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
  }
}

/* Update responsive design for larger screens */
@media (min-width: 1024px) {
  .chat-container {
    max-width: 1000px;
  }
  
  .messages {
    height: 500px;
  }
  
  .messages.expanded {
    height: 800px;
  }
}

/* Update responsive design for smaller screens */
@media (max-width: 768px) {
  .chat-container {
    max-width: 100%;
    margin: 0 1rem;
  }
  
  .messages {
    height: 400px;
    min-height: 400px;
  }
  
  .messages.expanded {
    height: 600px;
  }
  
  .message {
    max-width: 90%;
  }
  
  .input-area {
    padding: 0.75rem;
  }
  
  nav {
    display: none;
  }
  
  .hero h1 {
    font-size: 2rem;
  }
  
  .features {
    grid-template-columns: 1fr;
  }
}


/* Basic button styling */
#animatedButton {
  padding: 10px 20px;
  font-size: 16px;
  color: white;
  background-color: #007BFF;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.3s ease;
}

/* Hover effect */
#animatedButton:hover {
  background-color: #0056b3;
  transform: scale(1.1);
}

/* Active (click) effect */
#animatedButton:active {
  transform: scale(0.9);
}

/* Optional: Add a pulse animation */
@keyframes pulse {
  0% {
      transform: scale(1);
  }
  50% {
      transform: scale(1.05);
  }
  100% {
      transform: scale(1);
  }
}

/* Apply the pulse animation to the button */
.animated-button {
  animation: pulse 2s infinite;
}

  </style>
</head>
<body>
  <div class="app">
   

    <!-- Main Content -->
    <main>
      <div class="container">
        <!-- Hero Section -->
        <div class="hero">
          <h1>Advanced AI for Everyone</h1>
          <p>Experience the next generation of AI-powered conversations</p>
        </div>

        <!-- Chat Interface -->
        <div class="chat-container">
          <div class="messages" id="messages">
            <div class="empty-state">
              <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                <path d="M5 3v4"/>
                <path d="M19 17v4"/>
                <path d="M3 5h4"/>
                <path d="M17 19h4"/>
              </svg>
              <p>Start a conversation with Me</p>
            </div>
          </div>
          <form id="chat-form" class="input-area">
            <input 
              type="text" 
              id="message-input" 
              placeholder="Type your message..."
            >
            <button type="button" id="mic-button" class="icon-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                <line x1="12" x2="12" y1="19" y2="22"/>
              </svg>
            </button>
            <button type="submit" class="icon-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m22 2-7 20-4-9-9-4Z"/>
                <path d="M22 2 11 13"/>
              </svg>
            </button>
          </form>
        </div>

        <!-- Features -->
        <div class="features">
          <div class="feature-card">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 8V4H8"/>
              <rect width="16" height="12" x="4" y="8" rx="2"/>
              <path d="M2 14h2"/>
              <path d="M20 14h2"/>
              <path d="M15 13v2"/>
              <path d="M9 13v2"/>
            </svg>
            <h3>Generate Test</h3>
            <button id="animatedButton" class="animated-button">Start</button>
            <p>Click the "Start" button to begin your assessment.</p>
          </div>
          <div class="feature-card">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"/>
            </svg>
            <h3>Download Audio File</h3>
            <button id="animatedButton" class="animated-button">
              <a id="downloadLink" href="#" download="audio.mp3" style="text-decoration: none; color: inherit;">
                Download audio
              </a>
            </button>
                        <p>The "Download Audio" button allows users to download an audio file to their device for offline listening.</p>
          </div>
          <div class="feature-card">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
            <h3>Features</h3>
            <p>Instant Responses, Smart Assistance, Creative Support, User-Friendly Interface, Adaptive Learning.
              </p>
          </div>
        </div>
      </div>
    </main>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('chat-form');
      const input = document.getElementById('message-input');
      const messagesContainer = document.getElementById('messages');
      const micButton = document.getElementById('mic-button');
      
      let isRecording = false;
      let mediaRecorder = null;
      let audioChunks = [];
      let messageCount = 0;
      
      // Initialize speech recognition
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      const recognition = SpeechRecognition ? new SpeechRecognition() : null;
      
      if (recognition) {
        recognition.continuous = false;
        recognition.lang = 'en-US';
        
        recognition.onresult = (event) => {
          const transcript = event.results[0][0].transcript;
          input.value = transcript;
        };
        
        recognition.onend = () => {
          micButton.classList.remove('recording');
          isRecording = false;
        };
      }
  
      // Handle microphone button click
      micButton.addEventListener('click', () => {
        if (!recognition) {
          alert('Speech recognition is not supported in your browser.');
          return;
        }
    
        if (!isRecording) {
          recognition.start();
          micButton.classList.add('recording');
          isRecording = true;
        } else {
          recognition.stop();
          micButton.classList.remove('recording');
          isRecording = false;
        }
      });
  
      // Clear empty state when first message is added
      const clearEmptyState = () => {
        const emptyState = messagesContainer.querySelector('.empty-state');
        if (emptyState) {
          emptyState.remove();
        }
      };
  
      // Add a message to the chat
      const addMessage = (text, isUser = false, typing = false) => {
        clearEmptyState();
  
        const message = document.createElement('div');
        message.className = `message ${isUser ? 'user' : 'ai'}`;
        if (typing) {
          message.innerHTML = '<div class="typing-indicator">Typing...</div>';
        } else {
          message.textContent = text;
        }
  
        messagesContainer.appendChild(message);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
  
        // Increment message count and expand chat if needed
        messageCount++;
        if (messageCount > 4 && !messagesContainer.classList.contains('expanded')) {
          messagesContainer.classList.add('expanded');
        }
      };
  
      // Handle form submission (sending text and audio)
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
  
        const message = input.value.trim();
        if (!message) return;
  
        addMessage(message, true);  // Show user message
  
        // Clear the input field
        input.value = '';
  
        // Show the typing animation while waiting for the response
        addMessage('', false, true);  // Show typing animation for AI
  
        try {
          const response = await fetch('/gemini-response', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ message }),
          });
  
          const data = await response.json();
          const aiResponse = data.response;
  
          // Remove typing animation and show AI response
          messagesContainer.lastElementChild.remove();
          addMessage(aiResponse, false);
        } catch (error) {
          console.error('Error:', error);
        }
      });
  
      // Handle input keypress
      input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          form.dispatchEvent(new Event('submit'));
        }
      });
    });

    
    // Function to set the download link
  function setDownloadLink() {
    // The file path to the audio file on your server
    const audioFilePath = '/static/audio.mp3'; // Path where the audio is located

    // Set the href of the download link to the audio file's URL
    const downloadLink = document.getElementById('downloadLink');
    downloadLink.href = audioFilePath;
  }

  // Call the function to set the download link when the page loads
  setDownloadLink();
  </script>
  
   
</body>
</html>